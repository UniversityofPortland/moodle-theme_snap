/**
* Plugins css.
*/


/**
 * Video js filter.
 */

// Center play button.
.video-js {
    .vjs-big-play-button {
        top: calc(50% - 2rem);
        left: calc(50% - 2rem);
        line-height: 4rem;
        height: 4rem;
        width: 4rem;
        border-radius: 100%;
        border-color: transparent;
        background-color: rgba($brand-primary, .7);

        &:focus {
            background-color: $brand-primary;
        }
    }

    &:hover {
        .vjs-big-play-button {
            background-color: $brand-primary;
            border-color: transparent;
        }
    }
}



/**
 * report : dates.
 * https://moodle.org/plugins/report_editdates
 */
#page-report-editdates-index .activityicon {
    @include svg-icon;
}

/**
 * Assign feedback PDF editor.
 * Prevent PDF edit area from displaying outside of dialogs.
 *
 * Note - applies to joule grader which is why this is not nested within .path-mod-assign.
 * Also, note - it's an issue with the editor being inside a dialog, so fix applied more widely than just to
 * joule-grader.
 */
.moodle-dialogue-base .assignfeedback_editpdf_widget .drawingregion {
    left: 0;
    top: 0;
}

/* Drop down menus in the anotation bar */
.moodle-dialogue-base .moodle-dialogue.assignfeedback_editpdf_dropdown {
    min-width: 1em;
}

.path-mod-assign [data-region="user-info"] {
    h4 {
        line-height: 1rem;
    }
    .img-rounded {
        height: 40px;
        border-radius: 100%;
    }
}

#advancedgrading-criteria td.remark {
    min-width: 150px;
}

.path-mod-assign #page-content [data-region="grade-panel"] .popout [data-region="popout-button"] img {
    max-width: none;
}

.path-mod-assign [data-region="grade-panel"] .mform .fitem:hover {
    background-color: $modal-content-bg;
}

.path-mod-assign [data-region="grade-panel"] .mform .fitem .felement {
    float: none;
    margin-top: .25rem;
}

.path-mod-assign [data-region="grade-panel"] .fitem.has-popout {
    padding: $spacer / 2;

    &.popout {
        // When actually popped out.
        padding: $card-spacer-y $card-spacer-x;
    }
}

/**
 * Survey module.
 * Fix black text on save.
 */
#page-mod-survey-save div[role="main"] h2 {
    padding-top:0.5em;
    color:#fff;
}

/**
 * Conduit.
 */
#page-blocks-conduit-view {
    .mform {
        .fitem .felement.fgroup span {
            display: inline-block;
        }
        #fgroup_id_timestarted_grp, #fgroup_id_timecompleted_grp {
            .felement.fgroup span {
                display: block;
            }
        }
    }
}

.path-blocks-conduit .widgets {
    white-space: normal;

    input {
        display: block;
        margin: 8px 0 0 5px;
    }

    a {
        display: block;
        margin-top: -1.5em;
    }
}

.edit_pages_box span.label {
  color: $body-color;
}

/**
 * Stop rubric mform from being positioned inefficiently in dialog.
 */
#local-joulegrader-gradepane-panel .mform{
    max-width: 100%;
    margin: 0 auto;
}


/**
 * Mod book.
 */
.path-mod-book {

    .book_toc_numbered {
        font-size: 1em;
        ul {
            list-style-type: none;
            padding: 0;
            ul {
                padding-left: 4%;
            }
        }
    }

    .card-block {
        padding :0;
    }

    // Hide next/previous image when not a link.
    .navimages{
        img {
            visibility: hidden;
        }
        a img {
            visibility: visible;
        }
    }
    // Style next and previous navigation.
    .navtop {
        display: none;
    }
    .bookprev,
    .booknext {
        display: inline-block;
        width: 50%;
    }
    .bookprev {
        text-align: left;
    }
    .bookprev:after,
    .booknext:before {
        content: attr(title);
        font-family: $font-family-base;
    }
}

// Book mod grid.
@include media-breakpoint-up(sm) {
    #page-mod-book-view {

        #region-main {
            width: 70%;
            float: right;
        }

        #moodle-blocks {
            clear: none;
            width: 30%;
            float: left;
        }
    }
}

// Print style guide for book
#page-mod-book-print {
    font-size: 18px !important;
    font-family: $font-family-serif !important;
}


/**
 * Mod lesson.
 */

/* Radio button and checkbox inputs. */
#page-mod-lesson-view.path-mod-lesson {
    .answeroptiongroup,
    .answeroption {

        input[type="radio"],
        input[type="checkbox"] {
            top: 0.25em;

            + label {
                padding-left: 1.5em;
            }
        }

        /* Put options on seperate lines. */
        .fgroup>span {
            display: table; // SHAME - hack for lessons css/html display of radio buttons.
            label p {
                display: inline; // SHAME - fix for p tag in each label.
            }
        }
    }
}

.gradingform_guide_comment_chooser {
    max-height: 60vh;
    overflow-y: auto;
}
.gradingform_guide_comment_chooser > ul > li button {
    text-align: left;
    white-space: normal;
}

/**
 * Styling for mod_choicegroup.
 */
#page-mod-choicegroup-report .response table.results td.data .user {
    float: left;

    .attemptaction {
        margin-right: 1em;
    }
}

/**
 * Styling for admin tool templatelibrary.
 */

#page-admin-tool-templatelibrary-index [data-region="searchresults"] {
    overflow: auto;
}
